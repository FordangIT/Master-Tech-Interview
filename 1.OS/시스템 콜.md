# 시스템 콜(System Call)

## 커널모드, 사용자 모드

먼저 커널모드와 사용자 모드에 대해 알아보자.

### 커널 모드

- 커널 모드는 cpu가 운영체제의 코드를 수행하는 상태를 말한다.
- 프로그램 카운터가 운영체제가 위치한 부분을 가리킬 때, cpu는 커널 모드에서 동작 중이다.
- 이 모드에서는 운영체제의 핵심 기능을 실행하며, 하드웨어 자원에 직접 접근할 수 있다.

### 사용자모드

- 사용자 모드는 cpu가 사용자 프로그램의 코드를 수행하는 상태를 말한다.
- 프로그램 카운터가 사용자 프로그램이 존재하는 메모리 위치를 가리킬 때, cpu는 사요자 모드에서 동작 중이다.

#### 명령 유형

- **일반 명령**: 메모리에서 자료를 읽어와 cpu에서 계산하고 결과를 메모리에 쓰는 일련의 명령들로, 모든 프로그램이 수행할 수 있다. 이러한 명령은 사용자 모드에서 실행된다.
- **특권 명령**: 보안이 필요한 명령으로, 입출력 장치, 타이머 등 각종 장치에 접근하는 명령이다. 이러한 명령은 커널 모드에서만 실행할 수 있다.

#### 모드 비트

- cpu 내에 mode bit를 두어, 일반 명령과 특권 명령을 구분하여 수행한다.

#### 시스템 콜

사용자 프로그램이 디스크의 파일을 접근하거나, 화면에 결과를 출력하는 등의 작업을 수행할 때는 특권 명령이 필요하다. 그러나 사용자 프로그램은 특권 명령을 수행할 수 없으므로, 운영체제에게 특권 명령의 대행을 요청하게 된다. 이러한 서비스 요청을 `시스템 콜`이라고 한다. 시스템 콜을 통해 사용자 프로그램은 커널 영역의 기능을 수행할 수 있게 된다.
